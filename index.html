<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Wedding Invitation</title>

<link rel="stylesheet" href="style.css">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Playfair+Display&display=swap" rel="stylesheet">
</head>

<body>

<div class="camera" id="camera">
<div class="wrapper">

<!-- ===== SEALED ENVELOPE ===== -->
<div id="coverStage" class="stage">
  <img src="cover.png" class="full-img">

  <div class="seal-click" id="seal"></div>
  <div class="seal-glow" id="sealGlow"></div>
</div>

<!-- ===== OPEN ENVELOPE ===== -->
<div id="openStage" class="stage hidden">
  <img src="card1.png" class="full-img envelope-open">
</div>

<!-- ===== LETTER CONTENT ===== -->
<div id="letterStage" class="stage hidden">

  <img src="card2.png" class="letter letter-main" id="card2">
  <img src="card3.png" class="letter">
  <img src="card4.png" class="letter">

  <div class="gallery">
    <div class="gallery-grid">
      <img src="gallery1.jpg">
      <img src="gallery2.jpg">
      <img src="gallery3.jpg">
      <img src="gallery4.jpg">
    </div>

    <a class="rsvp-btn"
       href="https://forms.gle/KYxswksdS9Qqm9YC8"
       target="_blank">
       RSVP Sekarang
    </a>
  </div>

</div>

</div>
</div>

<div class="vignette"></div>
<div class="sparkle-layer" id="dust"></div>

<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>

/* ===== SEAL TAP ===== */

document.getElementById("seal").addEventListener("click", startOpen);
document.getElementById("seal").addEventListener("touchstart", startOpen);

function startOpen(){

  glowFlash();
  startMusic();
  cameraPush();

  document.getElementById("coverStage").classList.add("fade-out");

  setTimeout(()=>{
    showOpenEnvelope();
  },700);
}

/* ===== SEAL FLASH ===== */

function glowFlash(){
  const g = document.getElementById("sealGlow");
  g.classList.add("glow-on");
}

/* ===== CAMERA ZOOM ===== */

function cameraPush(){
  document.getElementById("camera").classList.add("camera-zoom");
}

/* ===== MUSIC FADE IN ===== */

function startMusic(){
  const m = document.getElementById("bgm");
  m.volume = 0;
  m.play().catch(()=>{});
  let v = 0;
  const fade = setInterval(()=>{
    v += 0.05;
    m.volume = v;
    if(v>=0.6) clearInterval(fade);
  },120);
}

/* ===== SHOW OPEN ENVELOPE ===== */

function showOpenEnvelope(){
  document.getElementById("coverStage").classList.add("hidden");
  const open = document.getElementById("openStage");
  open.classList.remove("hidden");
  open.classList.add("flap-open");

  setTimeout(()=>{
    showLetter();
  },900);
}

/* ===== LETTER SLIDE ===== */

function showLetter(){
  const stage = document.getElementById("letterStage");
  stage.classList.remove("hidden");
  document.getElementById("card2").classList.add("letter-out");
  startDust();
}

/* ===== GOLD PARTICLES ===== */

function startDust(){
  const layer = document.getElementById("dust");
  for(let i=0;i<60;i++){
    const d = document.createElement("div");
    d.className="dust";
    d.style.left=Math.random()*100+"%";
    d.style.animationDuration=(10+Math.random()*10)+"s";
    d.style.animationDelay=Math.random()*10+"s";
    layer.appendChild(d);
  }
}

</script>

</body>
</html>
